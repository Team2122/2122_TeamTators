<mxfile host="Electron" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.7.8 Chrome/126.0.6478.234 Electron/31.4.0 Safari/537.36" version="24.7.8">
  <diagram name="Page-1" id="nuIlcTRdEhiPHGf5OndE">
    <mxGraphModel dx="1410" dy="845" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="AU9gpcjqnHudgLF6F9Df-7" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;" parent="1" vertex="1">
          <mxGeometry x="330" y="350" width="310" height="170" as="geometry" />
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="AU9gpcjqnHudgLF6F9Df-4" target="Otcn41ARznj9py9V1pjm-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="200" y="300" />
              <mxPoint x="520" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-10" value="command ends" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="lFH9Mj62mve5BnLHsh2C-2">
          <mxGeometry x="-0.2462" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AU9gpcjqnHudgLF6F9Df-4" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;" parent="1" vertex="1">
          <mxGeometry x="100" y="340" width="200" height="180" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-1" value="IN&lt;span style=&quot;background-color: initial;&quot;&gt;IT&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="460" y="30" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-2" value="no init" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="440" y="75" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-3" value="IDLE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="460" y="190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-6" value="Set motor to idle" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="440" y="230" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-7" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Otcn41ARznj9py9V1pjm-2" target="Otcn41ARznj9py9V1pjm-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="250" as="sourcePoint" />
            <mxPoint x="550" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-8" value="instant" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Otcn41ARznj9py9V1pjm-7" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-20" value="&lt;div&gt;&lt;span style=&quot;&quot;&gt;Lower Note Path&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;&quot;&gt;Motors:&lt;/span&gt;&lt;div style=&quot;&quot;&gt;- 1 Kraken&lt;/div&gt;&lt;div style=&quot;&quot;&gt;Sensors:&lt;/div&gt;&lt;div style=&quot;&quot;&gt;- 2 digital entrance sensors&lt;/div&gt;&lt;div style=&quot;&quot;&gt;- 1 digital chimney sensor&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;align=left;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="660" y="70" width="160" height="120" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-21" value="PICKING" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="460" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Otcn41ARznj9py9V1pjm-22" target="Otcn41ARznj9py9V1pjm-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-33" value="either entrance sensor tripped" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Otcn41ARznj9py9V1pjm-32" vertex="1" connectable="0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-22" value="Set motor to picking speed" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="440" y="450" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="Otcn41ARznj9py9V1pjm-30" target="Otcn41ARznj9py9V1pjm-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-40" value="Chimney sensor true" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Otcn41ARznj9py9V1pjm-38" vertex="1" connectable="0">
          <mxGeometry x="-0.027" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-30" value="PULLING" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="460" y="590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-31" value="Set motor to pulling&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;speed&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="440" y="630" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Otcn41ARznj9py9V1pjm-36" target="Otcn41ARznj9py9V1pjm-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-41" value="Chimney sensor false" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Otcn41ARznj9py9V1pjm-39" vertex="1" connectable="0">
          <mxGeometry x="0.0769" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-36" value="LEAVING" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="700" y="390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Otcn41ARznj9py9V1pjm-37" value="Check king rollers:&lt;div&gt;- If king rollers are ready, set motor to pulling speed&lt;/div&gt;&lt;div&gt;- If not ready, stop motor&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="680" y="430" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="lsV3FbbIiX-11AHWwS9j-2" value="&lt;div&gt;Speeds:&lt;/div&gt;&lt;div&gt;- Idle&lt;/div&gt;&lt;div&gt;- Picking&lt;/div&gt;&lt;div&gt;- Pulling&lt;/div&gt;&lt;div&gt;- Reverse/Panic&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;align=left;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="320" y="20" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lsV3FbbIiX-11AHWwS9j-7" value="PANIC" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="140" y="365" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lsV3FbbIiX-11AHWwS9j-8" value="Set motor to reverse" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="120" y="405" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="yh-5iwaubrjqje9NX2FK-3" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#b0e3e6;strokeColor=#0e8088;" parent="1" vertex="1">
          <mxGeometry x="820" y="430" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-1" value="INTERRUPT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="170" y="470" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-2" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="lsV3FbbIiX-11AHWwS9j-8" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="580" as="sourcePoint" />
            <mxPoint x="450" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-3" value="panic command" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="dibarmolXCnS6Pg4f4nL-2" vertex="1" connectable="0">
          <mxGeometry x="-0.4667" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-4" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="580" as="sourcePoint" />
            <mxPoint x="160" y="630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-5" value="INTERRUPT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="340" y="210" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-6" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="Otcn41ARznj9py9V1pjm-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="220" as="sourcePoint" />
            <mxPoint x="450" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-8" value="&lt;div&gt;idle&lt;/div&gt;&lt;div&gt;command&lt;br&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="dibarmolXCnS6Pg4f4nL-6" vertex="1" connectable="0">
          <mxGeometry x="-0.7778" y="3" relative="1" as="geometry">
            <mxPoint x="26" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-7" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="220" as="sourcePoint" />
            <mxPoint x="200" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-9" value="INTERRUPT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="350" y="430" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-10" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="Otcn41ARznj9py9V1pjm-21" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="600" as="sourcePoint" />
            <mxPoint x="450" y="460" as="targetPoint" />
            <Array as="points">
              <mxPoint x="380" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-11" value="pick command" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="dibarmolXCnS6Pg4f4nL-10" vertex="1" connectable="0">
          <mxGeometry x="-0.7167" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dibarmolXCnS6Pg4f4nL-12" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="600" as="sourcePoint" />
            <mxPoint x="400" y="630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s2MQIoGI4sX4xmjJmSA1-1" value="" style="endArrow=classic;html=1;rounded=0;dashed=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" target="Otcn41ARznj9py9V1pjm-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="660" as="sourcePoint" />
            <mxPoint x="450" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s2MQIoGI4sX4xmjJmSA1-2" value="The&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;LEAVING&lt;/span&gt;&amp;nbsp;state is used to wait for the king rollers, so that we can safely handle two notes at once." style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;sketch=1;curveFitting=1;jiggle=2;" parent="1" vertex="1">
          <mxGeometry x="670" y="660" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-3" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;" vertex="1" parent="1">
          <mxGeometry x="90" y="660" width="200" height="180" as="geometry" />
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-4" value="PICK_UNCONDITIONALLY" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="105" y="680" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-5" value="Set motor to pulling speed" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="100" y="725" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-6" value="INTERRUPT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="160" y="790" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-7" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" target="lFH9Mj62mve5BnLHsh2C-5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="190" y="900" as="sourcePoint" />
            <mxPoint x="440" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-8" value="pickUnconditionally command" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="lFH9Mj62mve5BnLHsh2C-7">
          <mxGeometry x="-0.4667" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-9" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="190" y="900" as="sourcePoint" />
            <mxPoint x="150" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-12" value="" style="endArrow=none;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="lFH9Mj62mve5BnLHsh2C-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="480" y="450" as="sourcePoint" />
            <mxPoint x="200" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="40" y="750" />
              <mxPoint x="40" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-13" value="this state is not meant to be used for anything other than a manual eject sequence, as an unconditional mode of operation with no stop is generally unsafe, and the logic is made unclear if its transition is outside of the state machine" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="330" y="760" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-14" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="lFH9Mj62mve5BnLHsh2C-4" target="lFH9Mj62mve5BnLHsh2C-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="690" y="590" as="sourcePoint" />
            <mxPoint x="740" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lFH9Mj62mve5BnLHsh2C-15" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="AU9gpcjqnHudgLF6F9Df-4" target="lFH9Mj62mve5BnLHsh2C-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="285" y="720" as="sourcePoint" />
            <mxPoint x="340" y="798" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
